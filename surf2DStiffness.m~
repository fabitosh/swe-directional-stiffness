function [out] = surf2DStiffness(pcl, conv_filter_size) 
    x = pcl.pos(:, 1);
    y = pcl.pos(:, 2);
    z = pcl.val;
    
    [~, ~, xidx] = unique(x);
    [~, ~, yidx] = unique(y);
    % count the number of points at each unique x/y combination
    counts = accumarray([xidx(:), yidx(:)], 1); 
    % Sum of stiffness values that fall into each unique x/y combination (all
    % different z coordinates)
    avgs = accumarray([xidx(:), yidx(:)], z);

    filter = ones(conv_filter_size)/(conv_filter_size*conv_filter_size);
    avgs_smoothed = conv2(avgs, filter, 'same');
    counts_smoothed = conv2(counts, filter, 'same');
    out = avgs_smoothed./counts_smoothed; % Normalization 

    %create a list of the z that fall into each unique x/y combination
    % zs = accumarray([xidx(:), yidx(:)], pcl_0deg.val, [], @(V) {V}, {});
    
    figure()
    set(gcf,'position',[10,100,1600,800])
    subplot(121)
    surf(out)
    subplot(122)
    surf(out)
    view(0,90)
end

